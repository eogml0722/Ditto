<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>alert</title>
</head>
<body>
    <section th:fragment="alert">

    <!--/* 아이디 찾기 */-->
    <script th:if="${forgotIdMessage}" type="text/javascript">
        const result = '[[${forgotIdMessage}]]'
        if(result.indexOf('없습니다') > 0) {
            Swal.fire({
                icon: 'error',
                title: result,
                confirmButtonColor: '#00008b',
                confirmButtonText: '확인'
            })
        } else {
            Swal.fire({
                icon: 'success',
                title: result,
                text: '확인되었습니다!',
                confirmButtonColor: '#00008b',
                confirmButtonText: '확인'
            })
        }
    </script>

    <!--/* 비밀번호 찾기 */-->
    <script th:if="${forgotPwdMessage}" type="text/javascript">
        const result = '[[${forgotPwdMessage}]]'
        if(result.indexOf('오류') > 0) {
            Swal.fire({
                icon: 'error',
                title: result,
                text: '잠시 후 다시 시도해 주세요',
                confirmButtonColor: '#00008b',
                confirmButtonText: '확인'
            })
        } else {
            Swal.fire({
                icon: 'success',
                title: result,
                text: '로그인 후 비밀번호를 꼭 변경해 주세요',
                confirmButtonColor: '#00008b',
                confirmButtonText: '확인'
            })
        }
    </script>

        <script th:if="${error}" type="text/javascript">
            const result = '[[${error}]]'
            if(result.indexOf('로그인할 수 없습니다.') > 0) {
                Swal.fire({
                    icon: 'error',
                    title: result,
                    confirmButtonColor: '#00008b',
                    confirmButtonText: '확인'
                })
            } else {
                Swal.fire({
                    icon: 'success',
                    title: result,
                    text: '이메일로 로그인했습니다. 비밀번호를 반드시 변경해주세요!',
                    confirmButtonColor: '#00008b',
                    confirmButtonText: '확인'
                })
            }
        </script>

        <script th:if="${successMsg}" type="text/javascript">
            const result = '[[${successMsg}]]'

                Swal.fire({
                    icon: 'success',
                    title: result,
                    text: '로그인 가능한 링크를 이메일로 전송하였습니다.',
                    confirmButtonColor: '#00008b',
                    confirmButtonText: '확인'
                })

        </script>
        <script th:if="${emailError}" type="text/javascript">
            const result = '[[${emailError}]]'

                Swal.fire({
                    icon: 'error',
                    title: result,
                    text: '유효한 이메일 주소가 아닙니다.',
                    confirmButtonColor: '#00008b',
                    confirmButtonText: '확인'
                })

        </script>
        <script th:if="${tryError}" type="text/javascript">
            const result = '[[${tryError}]]'

                Swal.fire({
                    icon: 'error',
                    title: result,
                    text: '너무 잦은 요청입니다. 5분뒤에 다시 시도하세요.',
                    confirmButtonColor: '#00008b',
                    confirmButtonText: '확인'
                })

        </script>

        <!-- 게시판 알림창 -->
        <script th:if="${message}" type="text/javascript">
            var message = '[[${message}]]';
            alert(message);
            location.href='[[${url}]]';
        </script>

    </section>
</body>
</html>