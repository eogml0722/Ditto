<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

    <link th:href="@{/css/ditto2.css}" rel="stylesheet">
    <link th:href="@{https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css}" rel="stylesheet"/>
    <script th:src="@{https://code.jquery.com/jquery-3.7.0.min.js}" rel="stylesheet"></script>
    <script th:href="@{ditto2.js}" rel="stylesheet"></script>
</head> <!--head 끝-->


<body>
<div layout:fragment="content">

    <br><br><br><br><br>

    <img src="nbimg/shop_main06.jpg" id="main_main1_img1">
    <div id="main_main1_text">
        <h1 id="main_main1_text1">소식</h1>
        <div id="main_main1_text2">
            다양한 이벤트와 새로운 소식을 확인하세요!
        </div>
    </div>

    <div id="main_main2">
        <ul>
            <li>전체보기</li>
            <li>소식</li>
            <li>이벤트</li>
            <li>자유게시판</li>
            <li>커피클래스</li>
        </ul>
    </div>

    <br><br><br><br><br><br>

    <div id="main_main3">
        <div id="main_main3_table">
            <table>
                <thead>
                    <tr>
                        <th>번호</th>
                        <th>분류</th>
                        <th>제목</th>
                        <th>등록일</th>
                        <th>조회수</th>
                    </tr>
                </thead>

                <tbody>
                    <th:block th:each="board : ${boardPage.content}">
                        <tr>
                            <td>
                                <span th:text="${board.id}" ></span>
                            </td>
                            <td>
                                <span th:text="${board.boardCategory}" ></span>
                            </td>
                            <td>
                                <a th:href="'/board/getBoard/'+${board.id}"><span th:text="${board.title}" ></span></a>
                            </td>
                            <td>
                                <span th:text="${board.regTime}" ></span>
                            </td>
                            <td>
                                <span th:text="${board.viewCount}" ></span>
                            </td>
                        </tr>
                    </th:block>
                </tbody>
            </table>
        </div><!-- 메인3 테이블 끝-->
        <ul th:with="start=${((boardPage.number)/maxPage)*maxPage+1}, end=(${ start+maxPage-1 < boardPage.totalPages ? start+maxPage-1 : boardPage.totalPages}) ">
<!--            <li><a href="/board/1" > << </a></li>-->
            <li class="page-item" th:classappend="${start eq 1}?'disabled':''">
                <a href="/board/1" aria-label='Previous' class="page-link">
                    <span aria-hidden='true'> << </span>
                </a>
            </li>
            <li class="page-item" th:classappend="${start eq 1}?'disabled':''">
                <a th:href="@{'/board/' + ${start-1}}" aria-label='Previous' class="page-link">
                    <span aria-hidden='true'> < </span>
                </a>
            </li>
            <li th:each="page : ${#numbers.sequence(start, end)}" th:if="maxPage" th:classappend="${boardPage.number == page-1} ? 'pageNow' : ''">
                <a th:href="'/board/'+${page}"><span th:text="${page}"></span></a>
            </li>
            <li class="page-item" th:classappend="${end ge boardPage.totalPages}?'disabled':''">
                <a th:href="@{'/board/' + ${end+1}}" aria-label='Next' class="page-link">
                    <span aria-hidden='true'> > </span>
                </a>
            </li>
            <li class="page-item" th:classappend="${end ge boardPage.totalPages}?'disabled':''">
                <a th:href="@{'/board/' + ${boardPage.totalPages}}" aria-label='Next' class="page-link">
                    <span aria-hidden='true'> >> </span>
                </a>
            </li>
<!--            <li th:if="boardPage.number == boardPage.totalPages"  th:classappend="${}"><a th:href="'/board/'+${boardPage.totalPages}" > >> </a></li>-->
        </ul><!--페이지 리스트 끝-->
        <div id="searchBox">
            <form >
                <select id="boardCategory">
                    <option value="ALL">전체</option>
                    <option value="EVENT">이벤트</option>
                    <option value="NEWS">소식</option>
                </select>
                <select id="searchOption">
                    <option value="title">제목</option>
                    <option value="content">내용</option>
                    <option value="memberId">작성자</option>
                </select>
                    <input type="text" id="searchField">
                    <input type="submit" value="검색" onclick="search(this)">
            </form>
        </div>


            <br><br><br><br><br>


    </div><!--메인 3 끝-->
</div><!-- fragment=content 레이아웃 끝-->

<th:block layout:fragment="script">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bxslider/4.2.15/jquery.bxslider.min.js"></script>
    <script type="text/javascript" src="/js/ditto2.js"></script>
</th:block>
</body>
</html>